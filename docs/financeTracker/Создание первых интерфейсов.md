## `Account` (Счёт/Кошелёк)

Представляет физический или виртуальный кошелёк, карту или счёт пользователя.

**Нужные поля:**

- `id` – уникальный идентификатор (string)
- `name` – название ("Наличные", "Карта Сбер", "Кошелёк YooMoney")
- `type` – тип счёта ("cash" | "card" | "e-wallet" | "bank-account")
- `balance` – текущий баланс (number)
- `currency` – валюта ("RUB", "USD", "EUR")
- `icon` или `color` – для визуального отображения (опционально)
- `createdAt` – дата создания (ISO string или timestamp)
- `isActive` – активен ли счёт (boolean, чтобы скрывать закрытые)

---

## `Category` (Категория расходов/доходов)

Группирует транзакции по типу (продукты, транспорт, зарплата и т.п.).

**Нужные поля:**

- `id` – уникальный идентификатор
- `name` – название ("Продукты", "Транспорт", "Зарплата")
- `type` – тип операции ("expense" | "income")
- `icon` – эмодзи или код иконки для UI
- `color` – цвет для визуализации в графиках
- `parentId` – ссылка на родительскую категорию (для иерархии, опционально)
- `isDefault` – системная категория или пользовательская (boolean)

---

## `Transaction` (Транзакция/Операция)

Запись о конкретном расходе или доходе.

**Нужные поля:**

- `id` – уникальный идентификатор
- `accountId` – на каком счёте прошла операция
- `categoryId` – к какой категории относится
- `amount` – сумма (number, положительная для расходов, отрицательная для переводов)
- `type` – тип ("expense" | "income" | "transfer")
- `description` – комментарий или заметка (опционально)
- `date` – дата совершения (ISO string)
- `receiptId` – ссылка на чек, если транзакция создана из OCR (опционально)
- `tags` – массив меток для фильтрации (опционально, string[])
- `createdAt`, `updatedAt` – служебные метки времени

---

## `ReceiptDraft` (Черновик чека после OCR)

Промежуточный объект между загруженным чеком и финальными транзакциями. Пользователь может отредактировать распознанные данные перед сохранением.

**Нужные поля:**

- `id` – уникальный идентификатор
- `imageUrl` или `file` – ссылка на изображение чека или локальный File
- `uploadedAt` – когда загружен
- `status` – статус обработки ("pending" | "processing" | "recognized" | "error" | "confirmed")
- `vendor` – название магазина/поставщика (string, может быть пустым)
- `totalAmount` – общая сумма по чеку (number)
- `currency` – валюта
- `date` – дата покупки (ISO string или null, если не распознана)
- `lineItems` – массив распознанных позиций (см. ниже)
- `rawText` – исходный текст от OCR (для отладки, опционально)
- `errorMessage` – сообщение об ошибке, если распознавание провалилось

**Дополнительный тип `LineItem` (позиция в чеке):**

- `name` – название товара/услуги
- `quantity` – количество (number, по умолчанию 1)
- `price` – цена за единицу
- `totalPrice` – итоговая стоимость позиции
- `categoryId` – предложенная категория (опционально, может подставляться автоматически

```typescript
export type Currency = "rub" | "usd" | "eur";
export type TransactionType = "expense" | "income" | "transfer";
export type ReceiptStatus = "pending" | "processing" | "recognized" | "error" | "confirmed";

export type AccountId = number & { __brand: "AccountId" };
export type CategoryId = number & { __brand: "CategoryId" };

export interface Account {
    id: number;
    name: string;
    type: "cash" | "card" | "e-wallet" | "bank-account";
    balance: number;
    currency: Currency;
    icon?: string;
    createdAt: string;
    isActive: boolean;
}

export interface Category {
    id: number;
    name: string;
    type: "expense" | "income";
    icon: string;
    color: string;
    parentId?: number;
    isDefault: boolean;
}

export interface Transaction {
    id: number;
    accountId: AccountId;
    categoryId: CategoryId;
    amount: number;
    type: TransactionType;
    description?: string;
    date: string;
    receiptId?: number;
    tags: Array<string>;
    createdAt: string;
    updatedAt: string;
}

export interface ReceiptDraft {
    id: number;
    imageUrl: string;
    uploadedAt: string;
    status: ReceiptStatus;
    vendor?: string;
    totalAmount: number;
    currency: Currency;
    date?: string;
    lineItems: LineItem[];
    rawText?: string;
    errorMessage?: string;
}

export type LineItem = {
    name: string;
    quantity: number;
    price: number;
    totalPrice: number;
    category?: string;
};
```
